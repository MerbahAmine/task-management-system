{% extends "base.html" %}
{% block content %}
<h1>Task List</h1>
<div id="task-list"></div>

<script>
fetch('/api/tasks/', { credentials: 'include' })
  .then(response => response.json())
  .then(data => {
    const container = document.getElementById('task-list');
    data.results.forEach(task => {
      const el = document.createElement('div');
      el.textContent = `${task.title} - Status: ${task.status} - Priority: ${task.priority}`;
      container.appendChild(el);
    });
  });
</script>
{% endblock %}
